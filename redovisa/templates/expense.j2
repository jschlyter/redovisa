<html>

<head>
<title>Redovisa</title>
<link rel="stylesheet" href="/static/redovisa.css">
<link rel="stylesheet" href="/static/buttons.css">
<meta charset="utf-8"/>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="/static/functions.js"></script>
</head>

{% set pattern_amount = "^\\d+(.\\d{2})?$" %}
{% set pattern_account = "^\\d+$" %}

<body>
<h1>Redovisa utlägg</h1>

<p>Redovisning av utlägg för <b>{{ session.name }} &ndash; {{ session.email }}</b></p>

<form method="post" enctype="multipart/form-data">

  <table>

  <tr>
    <th>Konto</th>
    <th>Beskrivning</th>
    <th class="amount">Belopp</th>
    <th></th>
  </tr>

  {% for row in range(10) %}

  <tr>
    <td>
      <select name="{{row}}:account" id="acount">
        <option value="">Välj konto…</option>
        <option value="4210">Grenkostnad Bäver (4210)</option>
        <option value="4211">Grenkostnad Spårare (4211)</option>
        <option value="4212">Grenkostnad Upptäckare (4212)</option>
        <option value="4213">Grenkostnad Äventyrare (4213)</option>
        <option value="4214">Grenkostnad Utmanare (4214)</option>
        <option value="4610">Kostnader kårläger (4610)</option>
        <option value="4611">Kostnader sommarläger (4611)</option>
        <option value="0000">Övrigt</option>
      </select>
    </td>
    <td><input name="{{row}}:description" type="text" class="description" maxlength="132"/></td>
    <td><input name="{{row}}:amount" type="text" onblur="updateTotal()" value="0.00" class="amount" pattern="{{ pattern_amount }}"/></td>
    <td></td>
  </tr>

  {% endfor %}

  <tr>
    <td><b>Totalsumma</b></td>
    <td></td>
    <td class="amount"><div id="total">0.00</div></td>
    <td>kr</td>
  </tr>

  <tr>
  <td colspan=4><hr/></td>
  </tr>

  <tr>
  <td>Bifogat kvitto (PDF eller PNG)</td>
  <td colspan=3>
  <input name="receipt" type="file" required accept="image/*,application/pdf" capture="camera"/>
  </td>
  </tr>

  <tr>
  <td>Kontonummer</td>
  <td colspan=3>
  <input name="recipient_account" type="text" value="{{ recipient_account }}" required pattern="{{ pattern_account }}"/>
  </td>
  </tr>

  <tr>
  <td class="reminder" colspan=4>
  Endast siffror. Glöm inte clearingnummer!
  </td>
  </tr>

  </table>


  <input class="button-4" type="submit" value="Skicka in utläggsrapport">
  <input class="button-4" type="reset" value="Rensa">

</form>
</body>

</html>
